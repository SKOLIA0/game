  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "matches"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "matches" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "team_id" integer, "date" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE  INDEX "index_matches_on_team_id" ON "matches" ("team_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "metrics"[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "metrics" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "player_metrics"[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "player_metrics" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "player_id" integer, "match_id" integer, "metric_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE  INDEX "index_player_metrics_on_match_id" ON "player_metrics" ("match_id")[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX "index_player_metrics_on_metric_id" ON "player_metrics" ("metric_id")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE  INDEX "index_player_metrics_on_player_id" ON "player_metrics" ("player_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "players"[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "players" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "team_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE  INDEX "index_players_on_team_id" ON "players" ("team_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "teams"[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240517160031)[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240517155927),
(20240517155945),
(20240517155938),
(20240517160003);

[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-05-17 16:51:36.261782"], ["updated_at", "2024-05-17 16:51:36.261782"]]
  [1m[35m (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:51:36.325062"], ["updated_at", "2024-05-17 16:51:36.325062"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.332253"], ["updated_at", "2024-05-17 16:51:36.332253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.333204"], ["updated_at", "2024-05-17 16:51:36.333204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.333821"], ["updated_at", "2024-05-17 16:51:36.333821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.334402"], ["updated_at", "2024-05-17 16:51:36.334402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.334986"], ["updated_at", "2024-05-17 16:51:36.334986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.335567"], ["updated_at", "2024-05-17 16:51:36.335567"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:51:36.349397"], ["updated_at", "2024-05-17 16:51:36.349397"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.355427"], ["updated_at", "2024-05-17 16:51:36.355427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.356460"], ["updated_at", "2024-05-17 16:51:36.356460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.357144"], ["updated_at", "2024-05-17 16:51:36.357144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.357786"], ["updated_at", "2024-05-17 16:51:36.357786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.358400"], ["updated_at", "2024-05-17 16:51:36.358400"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.364501"], ["updated_at", "2024-05-17 16:51:36.364501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.365359"], ["updated_at", "2024-05-17 16:51:36.365359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.366517"], ["updated_at", "2024-05-17 16:51:36.366517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.367234"], ["updated_at", "2024-05-17 16:51:36.367234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.367924"], ["updated_at", "2024-05-17 16:51:36.367924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.368584"], ["updated_at", "2024-05-17 16:51:36.368584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:51:36.513053"], ["updated_at", "2024-05-17 16:51:36.513053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.514530"], ["updated_at", "2024-05-17 16:51:36.514530"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.515613"], ["updated_at", "2024-05-17 16:51:36.515613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.516552"], ["updated_at", "2024-05-17 16:51:36.516552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.517383"], ["updated_at", "2024-05-17 16:51:36.517383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.518197"], ["updated_at", "2024-05-17 16:51:36.518197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.518983"], ["updated_at", "2024-05-17 16:51:36.518983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:51:36.519777"], ["updated_at", "2024-05-17 16:51:36.519777"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.520710"], ["updated_at", "2024-05-17 16:51:36.520710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.521772"], ["updated_at", "2024-05-17 16:51:36.521772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.522736"], ["updated_at", "2024-05-17 16:51:36.522736"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.523642"], ["updated_at", "2024-05-17 16:51:36.523642"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.524557"], ["updated_at", "2024-05-17 16:51:36.524557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.2ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.525635"], ["updated_at", "2024-05-17 16:51:36.525635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.526852"], ["updated_at", "2024-05-17 16:51:36.526852"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.527880"], ["updated_at", "2024-05-17 16:51:36.527880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.528861"], ["updated_at", "2024-05-17 16:51:36.528861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.529831"], ["updated_at", "2024-05-17 16:51:36.529831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.530831"], ["updated_at", "2024-05-17 16:51:36.530831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:51:36.534057"], ["updated_at", "2024-05-17 16:51:36.534057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.535313"], ["updated_at", "2024-05-17 16:51:36.535313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:51:36.536261"], ["updated_at", "2024-05-17 16:51:36.536261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.537703"], ["updated_at", "2024-05-17 16:51:36.537703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.539096"], ["updated_at", "2024-05-17 16:51:36.539096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.540261"], ["updated_at", "2024-05-17 16:51:36.540261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.541389"], ["updated_at", "2024-05-17 16:51:36.541389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.542568"], ["updated_at", "2024-05-17 16:51:36.542568"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.543722"], ["updated_at", "2024-05-17 16:51:36.543722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:51:36.546360"], ["updated_at", "2024-05-17 16:51:36.546360"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.547503"], ["updated_at", "2024-05-17 16:51:36.547503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:51:36.548441"], ["updated_at", "2024-05-17 16:51:36.548441"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.549550"], ["updated_at", "2024-05-17 16:51:36.549550"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.550591"], ["updated_at", "2024-05-17 16:51:36.550591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.551400"], ["updated_at", "2024-05-17 16:51:36.551400"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.552078"], ["updated_at", "2024-05-17 16:51:36.552078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.552719"], ["updated_at", "2024-05-17 16:51:36.552719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:51:36.553548"], ["updated_at", "2024-05-17 16:51:36.553548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:51:36.560308"], ["updated_at", "2024-05-17 16:51:36.560308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:51:36.561303"], ["updated_at", "2024-05-17 16:51:36.561303"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:51:36.561935"], ["updated_at", "2024-05-17 16:51:36.561935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.562631"], ["updated_at", "2024-05-17 16:51:36.562631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.563323"], ["updated_at", "2024-05-17 16:51:36.563323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.564392"], ["updated_at", "2024-05-17 16:51:36.564392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.565324"], ["updated_at", "2024-05-17 16:51:36.565324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:51:36.566142"], ["updated_at", "2024-05-17 16:51:36.566142"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:53:17.970260"], ["updated_at", "2024-05-17 16:53:17.970260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.974682"], ["updated_at", "2024-05-17 16:53:17.974682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.975496"], ["updated_at", "2024-05-17 16:53:17.975496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.976069"], ["updated_at", "2024-05-17 16:53:17.976069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.976613"], ["updated_at", "2024-05-17 16:53:17.976613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.977207"], ["updated_at", "2024-05-17 16:53:17.977207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:17.977748"], ["updated_at", "2024-05-17 16:53:17.977748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:53:17.980157"], ["updated_at", "2024-05-17 16:53:17.980157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:17.985250"], ["updated_at", "2024-05-17 16:53:17.985250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:17.986154"], ["updated_at", "2024-05-17 16:53:17.986154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:17.986732"], ["updated_at", "2024-05-17 16:53:17.986732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:17.987367"], ["updated_at", "2024-05-17 16:53:17.987367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:17.988003"], ["updated_at", "2024-05-17 16:53:17.988003"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.992949"], ["updated_at", "2024-05-17 16:53:17.992949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.993716"], ["updated_at", "2024-05-17 16:53:17.993716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.994302"], ["updated_at", "2024-05-17 16:53:17.994302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.994874"], ["updated_at", "2024-05-17 16:53:17.994874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.995439"], ["updated_at", "2024-05-17 16:53:17.995439"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 16:53:17.996001"], ["updated_at", "2024-05-17 16:53:17.996001"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:53:18.014259"], ["updated_at", "2024-05-17 16:53:18.014259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.015384"], ["updated_at", "2024-05-17 16:53:18.015384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.016102"], ["updated_at", "2024-05-17 16:53:18.016102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.016743"], ["updated_at", "2024-05-17 16:53:18.016743"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.017399"], ["updated_at", "2024-05-17 16:53:18.017399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.017980"], ["updated_at", "2024-05-17 16:53:18.017980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.018555"], ["updated_at", "2024-05-17 16:53:18.018555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:53:18.019103"], ["updated_at", "2024-05-17 16:53:18.019103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.019775"], ["updated_at", "2024-05-17 16:53:18.019775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.020448"], ["updated_at", "2024-05-17 16:53:18.020448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.021162"], ["updated_at", "2024-05-17 16:53:18.021162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.022205"], ["updated_at", "2024-05-17 16:53:18.022205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.023099"], ["updated_at", "2024-05-17 16:53:18.023099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.024102"], ["updated_at", "2024-05-17 16:53:18.024102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.025029"], ["updated_at", "2024-05-17 16:53:18.025029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.025627"], ["updated_at", "2024-05-17 16:53:18.025627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.026238"], ["updated_at", "2024-05-17 16:53:18.026238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.027043"], ["updated_at", "2024-05-17 16:53:18.027043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.027643"], ["updated_at", "2024-05-17 16:53:18.027643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:53:18.030246"], ["updated_at", "2024-05-17 16:53:18.030246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.031302"], ["updated_at", "2024-05-17 16:53:18.031302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:53:18.031953"], ["updated_at", "2024-05-17 16:53:18.031953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.032636"], ["updated_at", "2024-05-17 16:53:18.032636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.033313"], ["updated_at", "2024-05-17 16:53:18.033313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.033899"], ["updated_at", "2024-05-17 16:53:18.033899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.034476"], ["updated_at", "2024-05-17 16:53:18.034476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.035039"], ["updated_at", "2024-05-17 16:53:18.035039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.035710"], ["updated_at", "2024-05-17 16:53:18.035710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:53:18.037847"], ["updated_at", "2024-05-17 16:53:18.037847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.038781"], ["updated_at", "2024-05-17 16:53:18.038781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:53:18.039395"], ["updated_at", "2024-05-17 16:53:18.039395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.040067"], ["updated_at", "2024-05-17 16:53:18.040067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.040744"], ["updated_at", "2024-05-17 16:53:18.040744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.041396"], ["updated_at", "2024-05-17 16:53:18.041396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.041990"], ["updated_at", "2024-05-17 16:53:18.041990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.042556"], ["updated_at", "2024-05-17 16:53:18.042556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 16:53:18.043202"], ["updated_at", "2024-05-17 16:53:18.043202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 16:53:18.046654"], ["updated_at", "2024-05-17 16:53:18.046654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 16:53:18.047577"], ["updated_at", "2024-05-17 16:53:18.047577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 16:53:18.048177"], ["updated_at", "2024-05-17 16:53:18.048177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.048849"], ["updated_at", "2024-05-17 16:53:18.048849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.049530"], ["updated_at", "2024-05-17 16:53:18.049530"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.050372"], ["updated_at", "2024-05-17 16:53:18.050372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.051045"], ["updated_at", "2024-05-17 16:53:18.051045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 16:53:18.051756"], ["updated_at", "2024-05-17 16:53:18.051756"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:02:42.853523"], ["updated_at", "2024-05-17 17:02:42.853523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.857761"], ["updated_at", "2024-05-17 17:02:42.857761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.858443"], ["updated_at", "2024-05-17 17:02:42.858443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.858989"], ["updated_at", "2024-05-17 17:02:42.858989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.859528"], ["updated_at", "2024-05-17 17:02:42.859528"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.860066"], ["updated_at", "2024-05-17 17:02:42.860066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.860604"], ["updated_at", "2024-05-17 17:02:42.860604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:02:42.863024"], ["updated_at", "2024-05-17 17:02:42.863024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.867179"], ["updated_at", "2024-05-17 17:02:42.867179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.867875"], ["updated_at", "2024-05-17 17:02:42.867875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.868431"], ["updated_at", "2024-05-17 17:02:42.868431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.869026"], ["updated_at", "2024-05-17 17:02:42.869026"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.869575"], ["updated_at", "2024-05-17 17:02:42.869575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.874211"], ["updated_at", "2024-05-17 17:02:42.874211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.874885"], ["updated_at", "2024-05-17 17:02:42.874885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.875431"], ["updated_at", "2024-05-17 17:02:42.875431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.875970"], ["updated_at", "2024-05-17 17:02:42.875970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.876515"], ["updated_at", "2024-05-17 17:02:42.876515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.877100"], ["updated_at", "2024-05-17 17:02:42.877100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:02:42.895163"], ["updated_at", "2024-05-17 17:02:42.895163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.896096"], ["updated_at", "2024-05-17 17:02:42.896096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.896727"], ["updated_at", "2024-05-17 17:02:42.896727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.897330"], ["updated_at", "2024-05-17 17:02:42.897330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.897888"], ["updated_at", "2024-05-17 17:02:42.897888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.898442"], ["updated_at", "2024-05-17 17:02:42.898442"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.899005"], ["updated_at", "2024-05-17 17:02:42.899005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:02:42.899557"], ["updated_at", "2024-05-17 17:02:42.899557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.900203"], ["updated_at", "2024-05-17 17:02:42.900203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.900846"], ["updated_at", "2024-05-17 17:02:42.900846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.901441"], ["updated_at", "2024-05-17 17:02:42.901441"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.902007"], ["updated_at", "2024-05-17 17:02:42.902007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.902575"], ["updated_at", "2024-05-17 17:02:42.902575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.903200"], ["updated_at", "2024-05-17 17:02:42.903200"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.903820"], ["updated_at", "2024-05-17 17:02:42.903820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.904389"], ["updated_at", "2024-05-17 17:02:42.904389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.905061"], ["updated_at", "2024-05-17 17:02:42.905061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.905641"], ["updated_at", "2024-05-17 17:02:42.905641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.906203"], ["updated_at", "2024-05-17 17:02:42.906203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:02:42.909007"], ["updated_at", "2024-05-17 17:02:42.909007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.910125"], ["updated_at", "2024-05-17 17:02:42.910125"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:02:42.910821"], ["updated_at", "2024-05-17 17:02:42.910821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.911571"], ["updated_at", "2024-05-17 17:02:42.911571"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.912234"], ["updated_at", "2024-05-17 17:02:42.912234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.912902"], ["updated_at", "2024-05-17 17:02:42.912902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.913507"], ["updated_at", "2024-05-17 17:02:42.913507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.914103"], ["updated_at", "2024-05-17 17:02:42.914103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.914797"], ["updated_at", "2024-05-17 17:02:42.914797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:02:42.916896"], ["updated_at", "2024-05-17 17:02:42.916896"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.917673"], ["updated_at", "2024-05-17 17:02:42.917673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:02:42.918292"], ["updated_at", "2024-05-17 17:02:42.918292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.918961"], ["updated_at", "2024-05-17 17:02:42.918961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.919587"], ["updated_at", "2024-05-17 17:02:42.919587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.920163"], ["updated_at", "2024-05-17 17:02:42.920163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.920730"], ["updated_at", "2024-05-17 17:02:42.920730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.921378"], ["updated_at", "2024-05-17 17:02:42.921378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:02:42.922023"], ["updated_at", "2024-05-17 17:02:42.922023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:02:42.925271"], ["updated_at", "2024-05-17 17:02:42.925271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:02:42.926437"], ["updated_at", "2024-05-17 17:02:42.926437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:02:42.927090"], ["updated_at", "2024-05-17 17:02:42.927090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.927786"], ["updated_at", "2024-05-17 17:02:42.927786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.928453"], ["updated_at", "2024-05-17 17:02:42.928453"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.929084"], ["updated_at", "2024-05-17 17:02:42.929084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.929720"], ["updated_at", "2024-05-17 17:02:42.929720"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:02:42.930340"], ["updated_at", "2024-05-17 17:02:42.930340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:04:03.934662"], ["updated_at", "2024-05-17 17:04:03.934662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.938745"], ["updated_at", "2024-05-17 17:04:03.938745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.939493"], ["updated_at", "2024-05-17 17:04:03.939493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.940045"], ["updated_at", "2024-05-17 17:04:03.940045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.940585"], ["updated_at", "2024-05-17 17:04:03.940585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.941175"], ["updated_at", "2024-05-17 17:04:03.941175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.941773"], ["updated_at", "2024-05-17 17:04:03.941773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:04:03.944192"], ["updated_at", "2024-05-17 17:04:03.944192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.948415"], ["updated_at", "2024-05-17 17:04:03.948415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.949123"], ["updated_at", "2024-05-17 17:04:03.949123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.949678"], ["updated_at", "2024-05-17 17:04:03.949678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.950230"], ["updated_at", "2024-05-17 17:04:03.950230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.950808"], ["updated_at", "2024-05-17 17:04:03.950808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.955371"], ["updated_at", "2024-05-17 17:04:03.955371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.956039"], ["updated_at", "2024-05-17 17:04:03.956039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.956607"], ["updated_at", "2024-05-17 17:04:03.956607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.957201"], ["updated_at", "2024-05-17 17:04:03.957201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.957765"], ["updated_at", "2024-05-17 17:04:03.957765"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.958338"], ["updated_at", "2024-05-17 17:04:03.958338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:04:03.976020"], ["updated_at", "2024-05-17 17:04:03.976020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.976947"], ["updated_at", "2024-05-17 17:04:03.976947"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.977608"], ["updated_at", "2024-05-17 17:04:03.977608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.978172"], ["updated_at", "2024-05-17 17:04:03.978172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.978733"], ["updated_at", "2024-05-17 17:04:03.978733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.979290"], ["updated_at", "2024-05-17 17:04:03.979290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.979911"], ["updated_at", "2024-05-17 17:04:03.979911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:04:03.980447"], ["updated_at", "2024-05-17 17:04:03.980447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.981162"], ["updated_at", "2024-05-17 17:04:03.981162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.981781"], ["updated_at", "2024-05-17 17:04:03.981781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.982346"], ["updated_at", "2024-05-17 17:04:03.982346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.982912"], ["updated_at", "2024-05-17 17:04:03.982912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.983477"], ["updated_at", "2024-05-17 17:04:03.983477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.984115"], ["updated_at", "2024-05-17 17:04:03.984115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.984733"], ["updated_at", "2024-05-17 17:04:03.984733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.985352"], ["updated_at", "2024-05-17 17:04:03.985352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.985905"], ["updated_at", "2024-05-17 17:04:03.985905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.986455"], ["updated_at", "2024-05-17 17:04:03.986455"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.987008"], ["updated_at", "2024-05-17 17:04:03.987008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:04:03.989069"], ["updated_at", "2024-05-17 17:04:03.989069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.989936"], ["updated_at", "2024-05-17 17:04:03.989936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:04:03.990531"], ["updated_at", "2024-05-17 17:04:03.990531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.991175"], ["updated_at", "2024-05-17 17:04:03.991175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.991810"], ["updated_at", "2024-05-17 17:04:03.991810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.992383"], ["updated_at", "2024-05-17 17:04:03.992383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.992982"], ["updated_at", "2024-05-17 17:04:03.992982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.993531"], ["updated_at", "2024-05-17 17:04:03.993531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:04:03.994148"], ["updated_at", "2024-05-17 17:04:03.994148"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:04:03.995899"], ["updated_at", "2024-05-17 17:04:03.995899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:03.996721"], ["updated_at", "2024-05-17 17:04:03.996721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:04:03.997344"], ["updated_at", "2024-05-17 17:04:03.997344"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.997983"], ["updated_at", "2024-05-17 17:04:03.997983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.998609"], ["updated_at", "2024-05-17 17:04:03.998609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.999185"], ["updated_at", "2024-05-17 17:04:03.999185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:03.999771"], ["updated_at", "2024-05-17 17:04:03.999771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.000326"], ["updated_at", "2024-05-17 17:04:04.000326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:04:04.001063"], ["updated_at", "2024-05-17 17:04:04.001063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:04:04.004232"], ["updated_at", "2024-05-17 17:04:04.004232"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:04:04.005017"], ["updated_at", "2024-05-17 17:04:04.005017"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:04:04.005599"], ["updated_at", "2024-05-17 17:04:04.005599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.006242"], ["updated_at", "2024-05-17 17:04:04.006242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.006849"], ["updated_at", "2024-05-17 17:04:04.006849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.007408"], ["updated_at", "2024-05-17 17:04:04.007408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.007982"], ["updated_at", "2024-05-17 17:04:04.007982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:04:04.008576"], ["updated_at", "2024-05-17 17:04:04.008576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:06:22.697395"], ["updated_at", "2024-05-17 17:06:22.697395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.701531"], ["updated_at", "2024-05-17 17:06:22.701531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.702249"], ["updated_at", "2024-05-17 17:06:22.702249"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.702843"], ["updated_at", "2024-05-17 17:06:22.702843"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.703388"], ["updated_at", "2024-05-17 17:06:22.703388"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.703929"], ["updated_at", "2024-05-17 17:06:22.703929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.704473"], ["updated_at", "2024-05-17 17:06:22.704473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:06:22.706905"], ["updated_at", "2024-05-17 17:06:22.706905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.711150"], ["updated_at", "2024-05-17 17:06:22.711150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.711860"], ["updated_at", "2024-05-17 17:06:22.711860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.712423"], ["updated_at", "2024-05-17 17:06:22.712423"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.713062"], ["updated_at", "2024-05-17 17:06:22.713062"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.713618"], ["updated_at", "2024-05-17 17:06:22.713618"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.718263"], ["updated_at", "2024-05-17 17:06:22.718263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.718967"], ["updated_at", "2024-05-17 17:06:22.718967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.719647"], ["updated_at", "2024-05-17 17:06:22.719647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.720437"], ["updated_at", "2024-05-17 17:06:22.720437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.721051"], ["updated_at", "2024-05-17 17:06:22.721051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.721620"], ["updated_at", "2024-05-17 17:06:22.721620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  players.*, COUNT(player_metrics.id) AS metrics_count FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:06:22.740631"], ["updated_at", "2024-05-17 17:06:22.740631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.741936"], ["updated_at", "2024-05-17 17:06:22.741936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.742682"], ["updated_at", "2024-05-17 17:06:22.742682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.743335"], ["updated_at", "2024-05-17 17:06:22.743335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.743927"], ["updated_at", "2024-05-17 17:06:22.743927"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.744534"], ["updated_at", "2024-05-17 17:06:22.744534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.745433"], ["updated_at", "2024-05-17 17:06:22.745433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:06:22.746034"], ["updated_at", "2024-05-17 17:06:22.746034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.746731"], ["updated_at", "2024-05-17 17:06:22.746731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.747385"], ["updated_at", "2024-05-17 17:06:22.747385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.748025"], ["updated_at", "2024-05-17 17:06:22.748025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.748753"], ["updated_at", "2024-05-17 17:06:22.748753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.749402"], ["updated_at", "2024-05-17 17:06:22.749402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.750055"], ["updated_at", "2024-05-17 17:06:22.750055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.750697"], ["updated_at", "2024-05-17 17:06:22.750697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.751277"], ["updated_at", "2024-05-17 17:06:22.751277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.751841"], ["updated_at", "2024-05-17 17:06:22.751841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.752397"], ["updated_at", "2024-05-17 17:06:22.752397"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.753029"], ["updated_at", "2024-05-17 17:06:22.753029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  players.*, COUNT(player_metrics.id) AS metrics_count FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:06:22.756114"], ["updated_at", "2024-05-17 17:06:22.756114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.757101"], ["updated_at", "2024-05-17 17:06:22.757101"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:06:22.757897"], ["updated_at", "2024-05-17 17:06:22.757897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.758666"], ["updated_at", "2024-05-17 17:06:22.758666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.759309"], ["updated_at", "2024-05-17 17:06:22.759309"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.759896"], ["updated_at", "2024-05-17 17:06:22.759896"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.760461"], ["updated_at", "2024-05-17 17:06:22.760461"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.761184"], ["updated_at", "2024-05-17 17:06:22.761184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.761929"], ["updated_at", "2024-05-17 17:06:22.761929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:06:22.763900"], ["updated_at", "2024-05-17 17:06:22.763900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.764779"], ["updated_at", "2024-05-17 17:06:22.764779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:06:22.765445"], ["updated_at", "2024-05-17 17:06:22.765445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.766180"], ["updated_at", "2024-05-17 17:06:22.766180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.766807"], ["updated_at", "2024-05-17 17:06:22.766807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.767389"], ["updated_at", "2024-05-17 17:06:22.767389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.767961"], ["updated_at", "2024-05-17 17:06:22.767961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.768519"], ["updated_at", "2024-05-17 17:06:22.768519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:06:22.769286"], ["updated_at", "2024-05-17 17:06:22.769286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:06:22.772503"], ["updated_at", "2024-05-17 17:06:22.772503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:06:22.773282"], ["updated_at", "2024-05-17 17:06:22.773282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:06:22.773884"], ["updated_at", "2024-05-17 17:06:22.773884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.774530"], ["updated_at", "2024-05-17 17:06:22.774530"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.775155"], ["updated_at", "2024-05-17 17:06:22.775155"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.775741"], ["updated_at", "2024-05-17 17:06:22.775741"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.776313"], ["updated_at", "2024-05-17 17:06:22.776313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:06:22.776928"], ["updated_at", "2024-05-17 17:06:22.776928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:08:03.436967"], ["updated_at", "2024-05-17 17:08:03.436967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.441503"], ["updated_at", "2024-05-17 17:08:03.441503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.442193"], ["updated_at", "2024-05-17 17:08:03.442193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.442731"], ["updated_at", "2024-05-17 17:08:03.442731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.443265"], ["updated_at", "2024-05-17 17:08:03.443265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.443797"], ["updated_at", "2024-05-17 17:08:03.443797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.444332"], ["updated_at", "2024-05-17 17:08:03.444332"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:08:03.446722"], ["updated_at", "2024-05-17 17:08:03.446722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.451170"], ["updated_at", "2024-05-17 17:08:03.451170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.451883"], ["updated_at", "2024-05-17 17:08:03.451883"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.452444"], ["updated_at", "2024-05-17 17:08:03.452444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.453046"], ["updated_at", "2024-05-17 17:08:03.453046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.453593"], ["updated_at", "2024-05-17 17:08:03.453593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.458310"], ["updated_at", "2024-05-17 17:08:03.458310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.459024"], ["updated_at", "2024-05-17 17:08:03.459024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.459622"], ["updated_at", "2024-05-17 17:08:03.459622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.460216"], ["updated_at", "2024-05-17 17:08:03.460216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.460800"], ["updated_at", "2024-05-17 17:08:03.460800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.461398"], ["updated_at", "2024-05-17 17:08:03.461398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:08:03.479972"], ["updated_at", "2024-05-17 17:08:03.479972"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.480973"], ["updated_at", "2024-05-17 17:08:03.480973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.481614"], ["updated_at", "2024-05-17 17:08:03.481614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.482219"], ["updated_at", "2024-05-17 17:08:03.482219"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.482764"], ["updated_at", "2024-05-17 17:08:03.482764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.483319"], ["updated_at", "2024-05-17 17:08:03.483319"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.483870"], ["updated_at", "2024-05-17 17:08:03.483870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:08:03.484403"], ["updated_at", "2024-05-17 17:08:03.484403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.485103"], ["updated_at", "2024-05-17 17:08:03.485103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.485733"], ["updated_at", "2024-05-17 17:08:03.485733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.486291"], ["updated_at", "2024-05-17 17:08:03.486291"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.486992"], ["updated_at", "2024-05-17 17:08:03.486992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.487572"], ["updated_at", "2024-05-17 17:08:03.487572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.488209"], ["updated_at", "2024-05-17 17:08:03.488209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.488858"], ["updated_at", "2024-05-17 17:08:03.488858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.489438"], ["updated_at", "2024-05-17 17:08:03.489438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.489994"], ["updated_at", "2024-05-17 17:08:03.489994"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.490553"], ["updated_at", "2024-05-17 17:08:03.490553"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.491583"], ["updated_at", "2024-05-17 17:08:03.491583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT  COUNT(*) AS count_all, players.id AS players_id FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:08:03.495352"], ["updated_at", "2024-05-17 17:08:03.495352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.496476"], ["updated_at", "2024-05-17 17:08:03.496476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:08:03.497389"], ["updated_at", "2024-05-17 17:08:03.497389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.498147"], ["updated_at", "2024-05-17 17:08:03.498147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.498850"], ["updated_at", "2024-05-17 17:08:03.498850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.499426"], ["updated_at", "2024-05-17 17:08:03.499426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.500010"], ["updated_at", "2024-05-17 17:08:03.500010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.500607"], ["updated_at", "2024-05-17 17:08:03.500607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.501286"], ["updated_at", "2024-05-17 17:08:03.501286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:08:03.503074"], ["updated_at", "2024-05-17 17:08:03.503074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.503874"], ["updated_at", "2024-05-17 17:08:03.503874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:08:03.504454"], ["updated_at", "2024-05-17 17:08:03.504454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.505139"], ["updated_at", "2024-05-17 17:08:03.505139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.505751"], ["updated_at", "2024-05-17 17:08:03.505751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.506334"], ["updated_at", "2024-05-17 17:08:03.506334"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.506948"], ["updated_at", "2024-05-17 17:08:03.506948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.507522"], ["updated_at", "2024-05-17 17:08:03.507522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:08:03.508164"], ["updated_at", "2024-05-17 17:08:03.508164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:08:03.511656"], ["updated_at", "2024-05-17 17:08:03.511656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:08:03.512502"], ["updated_at", "2024-05-17 17:08:03.512502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:08:03.513135"], ["updated_at", "2024-05-17 17:08:03.513135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.513779"], ["updated_at", "2024-05-17 17:08:03.513779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.514396"], ["updated_at", "2024-05-17 17:08:03.514396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.514964"], ["updated_at", "2024-05-17 17:08:03.514964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.515538"], ["updated_at", "2024-05-17 17:08:03.515538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:08:03.516108"], ["updated_at", "2024-05-17 17:08:03.516108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:09:53.445513"], ["updated_at", "2024-05-17 17:09:53.445513"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.450574"], ["updated_at", "2024-05-17 17:09:53.450574"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.451427"], ["updated_at", "2024-05-17 17:09:53.451427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.452005"], ["updated_at", "2024-05-17 17:09:53.452005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.452588"], ["updated_at", "2024-05-17 17:09:53.452588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.453226"], ["updated_at", "2024-05-17 17:09:53.453226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.453789"], ["updated_at", "2024-05-17 17:09:53.453789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:09:53.456277"], ["updated_at", "2024-05-17 17:09:53.456277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.460853"], ["updated_at", "2024-05-17 17:09:53.460853"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.461725"], ["updated_at", "2024-05-17 17:09:53.461725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.462335"], ["updated_at", "2024-05-17 17:09:53.462335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.462920"], ["updated_at", "2024-05-17 17:09:53.462920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.463480"], ["updated_at", "2024-05-17 17:09:53.463480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.468284"], ["updated_at", "2024-05-17 17:09:53.468284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.469023"], ["updated_at", "2024-05-17 17:09:53.469023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.469576"], ["updated_at", "2024-05-17 17:09:53.469576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.470136"], ["updated_at", "2024-05-17 17:09:53.470136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.470685"], ["updated_at", "2024-05-17 17:09:53.470685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.471245"], ["updated_at", "2024-05-17 17:09:53.471245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:09:53.488487"], ["updated_at", "2024-05-17 17:09:53.488487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.489405"], ["updated_at", "2024-05-17 17:09:53.489405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.490042"], ["updated_at", "2024-05-17 17:09:53.490042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.490606"], ["updated_at", "2024-05-17 17:09:53.490606"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.491166"], ["updated_at", "2024-05-17 17:09:53.491166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.491742"], ["updated_at", "2024-05-17 17:09:53.491742"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.492318"], ["updated_at", "2024-05-17 17:09:53.492318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:09:53.492943"], ["updated_at", "2024-05-17 17:09:53.492943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.493618"], ["updated_at", "2024-05-17 17:09:53.493618"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.494299"], ["updated_at", "2024-05-17 17:09:53.494299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.494888"], ["updated_at", "2024-05-17 17:09:53.494888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.495465"], ["updated_at", "2024-05-17 17:09:53.495465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.496040"], ["updated_at", "2024-05-17 17:09:53.496040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.496700"], ["updated_at", "2024-05-17 17:09:53.496700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.497378"], ["updated_at", "2024-05-17 17:09:53.497378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.497964"], ["updated_at", "2024-05-17 17:09:53.497964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.498537"], ["updated_at", "2024-05-17 17:09:53.498537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.499111"], ["updated_at", "2024-05-17 17:09:53.499111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.499723"], ["updated_at", "2024-05-17 17:09:53.499723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:09:53.502390"], ["updated_at", "2024-05-17 17:09:53.502390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.503207"], ["updated_at", "2024-05-17 17:09:53.503207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:09:53.503830"], ["updated_at", "2024-05-17 17:09:53.503830"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.504566"], ["updated_at", "2024-05-17 17:09:53.504566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.505277"], ["updated_at", "2024-05-17 17:09:53.505277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.505846"], ["updated_at", "2024-05-17 17:09:53.505846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.506404"], ["updated_at", "2024-05-17 17:09:53.506404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.506983"], ["updated_at", "2024-05-17 17:09:53.506983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.507622"], ["updated_at", "2024-05-17 17:09:53.507622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:09:53.509434"], ["updated_at", "2024-05-17 17:09:53.509434"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.510262"], ["updated_at", "2024-05-17 17:09:53.510262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:09:53.510908"], ["updated_at", "2024-05-17 17:09:53.510908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.511553"], ["updated_at", "2024-05-17 17:09:53.511553"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.512177"], ["updated_at", "2024-05-17 17:09:53.512177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.512761"], ["updated_at", "2024-05-17 17:09:53.512761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.513381"], ["updated_at", "2024-05-17 17:09:53.513381"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.513962"], ["updated_at", "2024-05-17 17:09:53.513962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:09:53.514602"], ["updated_at", "2024-05-17 17:09:53.514602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:09:53.517848"], ["updated_at", "2024-05-17 17:09:53.517848"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:09:53.518587"], ["updated_at", "2024-05-17 17:09:53.518587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:09:53.519177"], ["updated_at", "2024-05-17 17:09:53.519177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.519817"], ["updated_at", "2024-05-17 17:09:53.519817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.520438"], ["updated_at", "2024-05-17 17:09:53.520438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.521160"], ["updated_at", "2024-05-17 17:09:53.521160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.521873"], ["updated_at", "2024-05-17 17:09:53.521873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:09:53.522692"], ["updated_at", "2024-05-17 17:09:53.522692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:11:37.051951"], ["updated_at", "2024-05-17 17:11:37.051951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.056174"], ["updated_at", "2024-05-17 17:11:37.056174"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.057016"], ["updated_at", "2024-05-17 17:11:37.057016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.057583"], ["updated_at", "2024-05-17 17:11:37.057583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.058124"], ["updated_at", "2024-05-17 17:11:37.058124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.058663"], ["updated_at", "2024-05-17 17:11:37.058663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.059203"], ["updated_at", "2024-05-17 17:11:37.059203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:11:37.061714"], ["updated_at", "2024-05-17 17:11:37.061714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.066069"], ["updated_at", "2024-05-17 17:11:37.066069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.066829"], ["updated_at", "2024-05-17 17:11:37.066829"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.067403"], ["updated_at", "2024-05-17 17:11:37.067403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.067965"], ["updated_at", "2024-05-17 17:11:37.067965"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.068525"], ["updated_at", "2024-05-17 17:11:37.068525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.073633"], ["updated_at", "2024-05-17 17:11:37.073633"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.074389"], ["updated_at", "2024-05-17 17:11:37.074389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.074961"], ["updated_at", "2024-05-17 17:11:37.074961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.075515"], ["updated_at", "2024-05-17 17:11:37.075515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.076066"], ["updated_at", "2024-05-17 17:11:37.076066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.076626"], ["updated_at", "2024-05-17 17:11:37.076626"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:11:37.093997"], ["updated_at", "2024-05-17 17:11:37.093997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.095034"], ["updated_at", "2024-05-17 17:11:37.095034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.095718"], ["updated_at", "2024-05-17 17:11:37.095718"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.096309"], ["updated_at", "2024-05-17 17:11:37.096309"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.096925"], ["updated_at", "2024-05-17 17:11:37.096925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.097541"], ["updated_at", "2024-05-17 17:11:37.097541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.098173"], ["updated_at", "2024-05-17 17:11:37.098173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:11:37.098752"], ["updated_at", "2024-05-17 17:11:37.098752"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.099442"], ["updated_at", "2024-05-17 17:11:37.099442"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.100060"], ["updated_at", "2024-05-17 17:11:37.100060"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.100668"], ["updated_at", "2024-05-17 17:11:37.100668"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.101281"], ["updated_at", "2024-05-17 17:11:37.101281"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.101850"], ["updated_at", "2024-05-17 17:11:37.101850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.102492"], ["updated_at", "2024-05-17 17:11:37.102492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.103125"], ["updated_at", "2024-05-17 17:11:37.103125"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.103705"], ["updated_at", "2024-05-17 17:11:37.103705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.104272"], ["updated_at", "2024-05-17 17:11:37.104272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.104969"], ["updated_at", "2024-05-17 17:11:37.104969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.105532"], ["updated_at", "2024-05-17 17:11:37.105532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:11:37.108022"], ["updated_at", "2024-05-17 17:11:37.108022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.109041"], ["updated_at", "2024-05-17 17:11:37.109041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:11:37.109714"], ["updated_at", "2024-05-17 17:11:37.109714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.110396"], ["updated_at", "2024-05-17 17:11:37.110396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.111095"], ["updated_at", "2024-05-17 17:11:37.111095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.111678"], ["updated_at", "2024-05-17 17:11:37.111678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.112257"], ["updated_at", "2024-05-17 17:11:37.112257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.112819"], ["updated_at", "2024-05-17 17:11:37.112819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.113469"], ["updated_at", "2024-05-17 17:11:37.113469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:11:37.115328"], ["updated_at", "2024-05-17 17:11:37.115328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.116182"], ["updated_at", "2024-05-17 17:11:37.116182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:11:37.116771"], ["updated_at", "2024-05-17 17:11:37.116771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.117448"], ["updated_at", "2024-05-17 17:11:37.117448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.118148"], ["updated_at", "2024-05-17 17:11:37.118148"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.118719"], ["updated_at", "2024-05-17 17:11:37.118719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.119289"], ["updated_at", "2024-05-17 17:11:37.119289"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.119860"], ["updated_at", "2024-05-17 17:11:37.119860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:11:37.120476"], ["updated_at", "2024-05-17 17:11:37.120476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:11:37.123863"], ["updated_at", "2024-05-17 17:11:37.123863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:11:37.124711"], ["updated_at", "2024-05-17 17:11:37.124711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:11:37.125355"], ["updated_at", "2024-05-17 17:11:37.125355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.126011"], ["updated_at", "2024-05-17 17:11:37.126011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.126651"], ["updated_at", "2024-05-17 17:11:37.126651"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.127222"], ["updated_at", "2024-05-17 17:11:37.127222"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.127800"], ["updated_at", "2024-05-17 17:11:37.127800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:11:37.128369"], ["updated_at", "2024-05-17 17:11:37.128369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:12:00.221215"], ["updated_at", "2024-05-17 17:12:00.221215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.225373"], ["updated_at", "2024-05-17 17:12:00.225373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.226085"], ["updated_at", "2024-05-17 17:12:00.226085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.226630"], ["updated_at", "2024-05-17 17:12:00.226630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.227196"], ["updated_at", "2024-05-17 17:12:00.227196"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.228003"], ["updated_at", "2024-05-17 17:12:00.228003"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.228623"], ["updated_at", "2024-05-17 17:12:00.228623"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:12:00.231302"], ["updated_at", "2024-05-17 17:12:00.231302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.236014"], ["updated_at", "2024-05-17 17:12:00.236014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.236811"], ["updated_at", "2024-05-17 17:12:00.236811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.237422"], ["updated_at", "2024-05-17 17:12:00.237422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.237998"], ["updated_at", "2024-05-17 17:12:00.237998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.238554"], ["updated_at", "2024-05-17 17:12:00.238554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.243384"], ["updated_at", "2024-05-17 17:12:00.243384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.244128"], ["updated_at", "2024-05-17 17:12:00.244128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.244686"], ["updated_at", "2024-05-17 17:12:00.244686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.245289"], ["updated_at", "2024-05-17 17:12:00.245289"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.245826"], ["updated_at", "2024-05-17 17:12:00.245826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.246362"], ["updated_at", "2024-05-17 17:12:00.246362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:12:00.262484"], ["updated_at", "2024-05-17 17:12:00.262484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.263496"], ["updated_at", "2024-05-17 17:12:00.263496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.264115"], ["updated_at", "2024-05-17 17:12:00.264115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.264664"], ["updated_at", "2024-05-17 17:12:00.264664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.265253"], ["updated_at", "2024-05-17 17:12:00.265253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.265807"], ["updated_at", "2024-05-17 17:12:00.265807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.266346"], ["updated_at", "2024-05-17 17:12:00.266346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:12:00.266877"], ["updated_at", "2024-05-17 17:12:00.266877"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.267523"], ["updated_at", "2024-05-17 17:12:00.267523"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.268145"], ["updated_at", "2024-05-17 17:12:00.268145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.268715"], ["updated_at", "2024-05-17 17:12:00.268715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.269324"], ["updated_at", "2024-05-17 17:12:00.269324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.269888"], ["updated_at", "2024-05-17 17:12:00.269888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.270522"], ["updated_at", "2024-05-17 17:12:00.270522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.271122"], ["updated_at", "2024-05-17 17:12:00.271122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.271677"], ["updated_at", "2024-05-17 17:12:00.271677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.272234"], ["updated_at", "2024-05-17 17:12:00.272234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.272800"], ["updated_at", "2024-05-17 17:12:00.272800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.273425"], ["updated_at", "2024-05-17 17:12:00.273425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:12:00.275407"], ["updated_at", "2024-05-17 17:12:00.275407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.276214"], ["updated_at", "2024-05-17 17:12:00.276214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:12:00.276787"], ["updated_at", "2024-05-17 17:12:00.276787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.277473"], ["updated_at", "2024-05-17 17:12:00.277473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.278092"], ["updated_at", "2024-05-17 17:12:00.278092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.278660"], ["updated_at", "2024-05-17 17:12:00.278660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.279233"], ["updated_at", "2024-05-17 17:12:00.279233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.279783"], ["updated_at", "2024-05-17 17:12:00.279783"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.280412"], ["updated_at", "2024-05-17 17:12:00.280412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:12:00.282246"], ["updated_at", "2024-05-17 17:12:00.282246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.283028"], ["updated_at", "2024-05-17 17:12:00.283028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:12:00.283608"], ["updated_at", "2024-05-17 17:12:00.283608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.284235"], ["updated_at", "2024-05-17 17:12:00.284235"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.284954"], ["updated_at", "2024-05-17 17:12:00.284954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.285517"], ["updated_at", "2024-05-17 17:12:00.285517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.286091"], ["updated_at", "2024-05-17 17:12:00.286091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.286644"], ["updated_at", "2024-05-17 17:12:00.286644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:12:00.287256"], ["updated_at", "2024-05-17 17:12:00.287256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:12:00.290734"], ["updated_at", "2024-05-17 17:12:00.290734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:12:00.291596"], ["updated_at", "2024-05-17 17:12:00.291596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:12:00.292182"], ["updated_at", "2024-05-17 17:12:00.292182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.292812"], ["updated_at", "2024-05-17 17:12:00.292812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.293475"], ["updated_at", "2024-05-17 17:12:00.293475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.294031"], ["updated_at", "2024-05-17 17:12:00.294031"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.294598"], ["updated_at", "2024-05-17 17:12:00.294598"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:12:00.295149"], ["updated_at", "2024-05-17 17:12:00.295149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:13:01.183279"], ["updated_at", "2024-05-17 17:13:01.183279"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.187475"], ["updated_at", "2024-05-17 17:13:01.187475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.188182"], ["updated_at", "2024-05-17 17:13:01.188182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.188732"], ["updated_at", "2024-05-17 17:13:01.188732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.189299"], ["updated_at", "2024-05-17 17:13:01.189299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.189840"], ["updated_at", "2024-05-17 17:13:01.189840"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.190382"], ["updated_at", "2024-05-17 17:13:01.190382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:13:01.192742"], ["updated_at", "2024-05-17 17:13:01.192742"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.196962"], ["updated_at", "2024-05-17 17:13:01.196962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.197661"], ["updated_at", "2024-05-17 17:13:01.197661"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.198230"], ["updated_at", "2024-05-17 17:13:01.198230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.198789"], ["updated_at", "2024-05-17 17:13:01.198789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.199347"], ["updated_at", "2024-05-17 17:13:01.199347"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.204063"], ["updated_at", "2024-05-17 17:13:01.204063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.204772"], ["updated_at", "2024-05-17 17:13:01.204772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.205379"], ["updated_at", "2024-05-17 17:13:01.205379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.205928"], ["updated_at", "2024-05-17 17:13:01.205928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.206472"], ["updated_at", "2024-05-17 17:13:01.206472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 4], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.207024"], ["updated_at", "2024-05-17 17:13:01.207024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? AND "players"."team_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["team_id", 1], ["LIMIT", 5]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:13:01.223822"], ["updated_at", "2024-05-17 17:13:01.223822"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.225039"], ["updated_at", "2024-05-17 17:13:01.225039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.225841"], ["updated_at", "2024-05-17 17:13:01.225841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.226501"], ["updated_at", "2024-05-17 17:13:01.226501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.227154"], ["updated_at", "2024-05-17 17:13:01.227154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.227713"], ["updated_at", "2024-05-17 17:13:01.227713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.0ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.228281"], ["updated_at", "2024-05-17 17:13:01.228281"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:13:01.228870"], ["updated_at", "2024-05-17 17:13:01.228870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.229548"], ["updated_at", "2024-05-17 17:13:01.229548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.230199"], ["updated_at", "2024-05-17 17:13:01.230199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.230773"], ["updated_at", "2024-05-17 17:13:01.230773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.231343"], ["updated_at", "2024-05-17 17:13:01.231343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.231922"], ["updated_at", "2024-05-17 17:13:01.231922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.232558"], ["updated_at", "2024-05-17 17:13:01.232558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 2], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.233239"], ["updated_at", "2024-05-17 17:13:01.233239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 3], ["match_id", 3], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.233815"], ["updated_at", "2024-05-17 17:13:01.233815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 4], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.234377"], ["updated_at", "2024-05-17 17:13:01.234377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 5], ["match_id", 2], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.234948"], ["updated_at", "2024-05-17 17:13:01.234948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.0ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 6], ["match_id", 5], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.235509"], ["updated_at", "2024-05-17 17:13:01.235509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT  "players".* FROM "players" INNER JOIN "player_metrics" ON "player_metrics"."player_id" = "players"."id" WHERE "player_metrics"."metric_id" = ? GROUP BY players.id ORDER BY COUNT(player_metrics.id) DESC LIMIT ?[0m  [["metric_id", 1], ["LIMIT", 5]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:13:01.237758"], ["updated_at", "2024-05-17 17:13:01.237758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.238728"], ["updated_at", "2024-05-17 17:13:01.238728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:13:01.239345"], ["updated_at", "2024-05-17 17:13:01.239345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.240020"], ["updated_at", "2024-05-17 17:13:01.240020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.240794"], ["updated_at", "2024-05-17 17:13:01.240794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.241519"], ["updated_at", "2024-05-17 17:13:01.241519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.242092"], ["updated_at", "2024-05-17 17:13:01.242092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.242670"], ["updated_at", "2024-05-17 17:13:01.242670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.243326"], ["updated_at", "2024-05-17 17:13:01.243326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."match_id" = ? AND "player_metrics"."metric_id" = ? LIMIT ?[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:13:01.245270"], ["updated_at", "2024-05-17 17:13:01.245270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.246119"], ["updated_at", "2024-05-17 17:13:01.246119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:13:01.246719"], ["updated_at", "2024-05-17 17:13:01.246719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.247356"], ["updated_at", "2024-05-17 17:13:01.247356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.247973"], ["updated_at", "2024-05-17 17:13:01.247973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.248554"], ["updated_at", "2024-05-17 17:13:01.248554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.249175"], ["updated_at", "2024-05-17 17:13:01.249175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.249756"], ["updated_at", "2024-05-17 17:13:01.249756"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayerMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "player_metrics" ("player_id", "match_id", "metric_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["player_id", 1], ["match_id", 1], ["metric_id", 1], ["created_at", "2024-05-17 17:13:01.250486"], ["updated_at", "2024-05-17 17:13:01.250486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Team Name"], ["created_at", "2024-05-17 17:13:01.253969"], ["updated_at", "2024-05-17 17:13:01.253969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlayer Create (0.1ms)[0m  [1m[32mINSERT INTO "players" ("name", "team_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Player Name"], ["team_id", 1], ["created_at", "2024-05-17 17:13:01.254838"], ["updated_at", "2024-05-17 17:13:01.254838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMetric Create (0.1ms)[0m  [1m[32mINSERT INTO "metrics" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Metric Name"], ["created_at", "2024-05-17 17:13:01.255447"], ["updated_at", "2024-05-17 17:13:01.255447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.1ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.256102"], ["updated_at", "2024-05-17 17:13:01.256102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.256729"], ["updated_at", "2024-05-17 17:13:01.256729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.257359"], ["updated_at", "2024-05-17 17:13:01.257359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.257931"], ["updated_at", "2024-05-17 17:13:01.257931"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMatch Create (0.0ms)[0m  [1m[32mINSERT INTO "matches" ("team_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["team_id", 1], ["date", "2024-05-17"], ["created_at", "2024-05-17 17:13:01.258503"], ["updated_at", "2024-05-17 17:13:01.258503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT  "matches"."id" FROM "matches" WHERE "matches"."team_id" = ? ORDER BY "matches"."date" DESC LIMIT ?[0m  [["team_id", 1], ["LIMIT", 5]]
  [1m[36mPlayerMetric Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "player_metrics" WHERE "player_metrics"."player_id" = ? AND "player_metrics"."metric_id" = ? AND "player_metrics"."match_id" IN (?, ?, ?, ?, ?) LIMIT ?[0m  [["player_id", 1], ["metric_id", 1], ["match_id", 1], ["match_id", 2], ["match_id", 3], ["match_id", 4], ["match_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
